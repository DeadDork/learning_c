////////////////////////////////////////////////////////////////////////////////
// Comments

////////////////////////////////////////////////////////////////////////////////
// Libraries

#include "getch.h"

////////////////////////////////////////////////////////////////////////////////
// External Variables

char getch_stack[MAX_STACK_DEPTH];
int getch_stack_depth = 0;

////////////////////////////////////////////////////////////////////////////////
// Functions

int getch(void) {
    return (getch_stack_depth > 0) ? getch_stack[--getch_stack_depth] : getchar();
}

void ungetch(int character) {
    if (getch_stack_depth >= MAX_STACK_DEPTH)
        printf("ungetch(): too many characters\n");
    else
        getch_stack[getch_stack_depth++] = character;
}
